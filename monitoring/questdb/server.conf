# monitoring/questdb/server.conf
# T003: QuestDB server configuration for NautilusTrader monitoring

# HTTP API Configuration
http.enabled=true
http.bind.to=0.0.0.0:9000
http.net.connection.timeout=300000
http.query.cache.enabled=true

# InfluxDB Line Protocol (ILP) Configuration
line.http.enabled=true
line.http.ping.version=v2.x
line.tcp.enabled=true
line.tcp.net.bind.to=0.0.0.0:9009

# PostgreSQL Wire Protocol (for Grafana)
pg.enabled=true
pg.net.bind.to=0.0.0.0:8812
pg.user=admin
pg.password=quest

# Write-Ahead Log (WAL) Configuration
cairo.wal.enabled.default=true
cairo.wal.apply.table.time.quota=100

# Partitioning Configuration (T060: 90-day retention strategy)
cairo.sql.copy.root=/var/lib/questdb/tmp
# Default partition by DAY for time-series data
# Tables use PARTITION BY DAY in schema for 90-day rolling window
# Older partitions can be dropped via retention_cleanup.py script

# Performance Tuning
cairo.writer.data.append.page.size=4m
cairo.writer.misc.append.page.size=4m

# Memory Configuration
cairo.sql.jit.mode=on
cairo.sql.jit.debug.enabled=false

# Telemetry (disabled for privacy)
telemetry.enabled=false
telemetry.disable.completely=true
