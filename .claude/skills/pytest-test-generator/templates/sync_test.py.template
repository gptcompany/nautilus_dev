"""
Tests for {{MODULE_NAME}}
Coverage target: >80%
"""
import pytest
from nautilus_trader.test_kit.stubs.data import TestDataStubs
from nautilus_trader.test_kit.stubs.identifiers import TestIdStubs
from strategies.{{MODULE_FILE}} import {{CLASS_NAME}}, {{CONFIG_NAME}}


# Fixtures
@pytest.fixture
def {{FIXTURE_NAME}}():
    """Fixture for {{CLASS_NAME}}"""
    config = {{CONFIG_NAME}}(
        instrument_id="{{INSTRUMENT_ID}}",
    )
    return {{CLASS_NAME}}(config=config)


# Unit Tests (RED phase - should fail initially)
def test_{{FUNCTION_1}}({{FIXTURE_NAME}}):
    """Test {{DESCRIPTION_1}}"""
    {{FIXTURE_NAME}}.on_start()
    assert {{FIXTURE_NAME}}.{{INDICATOR}} is not None
    # RED: Not implemented yet


def test_{{FUNCTION_2}}({{FIXTURE_NAME}}):
    """Test {{DESCRIPTION_2}}"""
    {{FIXTURE_NAME}}.on_start()
    bar = TestDataStubs.bar_5decimal()
    {{FIXTURE_NAME}}.on_bar(bar)
    assert {{FIXTURE_NAME}}.{{INDICATOR}}.count == 1
    # RED: Not implemented yet


# Edge Cases
def test_{{EDGE_CASE}}({{FIXTURE_NAME}}):
    """Test {{EDGE_DESCRIPTION}}"""
    {{FIXTURE_NAME}}.on_start()
    # Test with empty/invalid input
    result = {{FIXTURE_NAME}}.{{METHOD}}(None)
    assert result is None  # Should handle gracefully
